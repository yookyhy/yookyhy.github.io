import{a as f,u as h,r as l,j as t,s as p}from"./index-pIZbQTh6.js";function v(){const{user:e,setUser:c}=f(),o=h(),[n,m]=l.useState((e==null?void 0:e.name)||""),[i,b]=l.useState((e==null?void 0:e.bio)||""),[a,x]=l.useState((e==null?void 0:e.avatar)||""),[d,u]=l.useState(!1);if(!e)return null;const g=async s=>{s.preventDefault(),u(!0);try{const{error:r}=await p.auth.updateUser({data:{trumeet_user:{...e,name:n,bio:i,avatar:a}}});if(r){alert("프로필 업데이트 실패: "+r.message);return}c({...e,name:n,bio:i,avatar:a}),alert("프로필이 성공적으로 수정되었습니다."),o("/profile")}catch(r){alert("오류 발생: "+r.message)}finally{u(!1)}};return t.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-white to-sky-50 px-4",children:[t.jsx("div",{className:"absolute top-6 right-6",children:t.jsx("button",{onClick:()=>o("/profile"),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-700 hover:bg-slate-200 rounded-lg transition-colors bg-white border border-slate-200",children:"✕"})}),t.jsxs("form",{onSubmit:g,className:"w-full max-w-md bg-white rounded-xl shadow p-8 space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-sky-700 mb-4 text-center",children:"프로필 수정"}),t.jsxs("div",{className:"flex flex-col items-center mb-4",children:[t.jsx("img",{src:a||"/default-avatar.png",alt:"프로필 사진",className:"w-20 h-20 rounded-full border border-gray-200 shadow mb-2"}),t.jsx("input",{type:"text",placeholder:"프로필 사진 URL",value:a,onChange:s=>x(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm mt-2"})]}),t.jsx("input",{type:"text",placeholder:"이름",value:n,onChange:s=>m(s.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400"}),t.jsx("textarea",{placeholder:"자기소개",value:i,onChange:s=>b(s.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400"}),t.jsx("button",{type:"submit",disabled:d,className:"w-full bg-sky-500 text-white py-3 rounded-lg hover:bg-sky-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"저장 중...":"저장하기"}),t.jsx("button",{type:"button",onClick:()=>o("/profile"),className:"w-full mt-2 py-3 rounded-lg text-sm font-semibold bg-white text-sky-600 border border-sky-300 hover:bg-sky-50 transition",children:"취소"})]})]})}export{v as default};
