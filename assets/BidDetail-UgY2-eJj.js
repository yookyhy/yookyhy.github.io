import{j as e,r as o,c as B,u as A,a as O,s as D}from"./index-mT-WyXZ5.js";import{P}from"./PageLayout-ErIk4jyE.js";function I({participants:r,userParticipation:u}){return r.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:["아직 입찰 참여자가 없습니다.",e.jsx("br",{}),"첫 번째 입찰자가 되어보세요! 🚀"]}):e.jsxs("div",{children:[u&&e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"내 입찰 내역"}),e.jsxs("div",{className:"text-sm text-yellow-700",children:[e.jsxs("div",{children:["💰 제안가격: ",u.offered_price,"모먼트"]}),u.message&&e.jsxs("div",{children:["💬 메시지: ",u.message]}),e.jsxs("div",{children:["📅 입찰일시: ",new Date(u.created_at).toLocaleDateString("ko-KR",{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["🙋‍♂️ 입찰 참여자 (",r.length,"명)"]}),e.jsx("div",{className:"space-y-3",children:r.map((t,n)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["참여자 #",n+1]}),e.jsxs("div",{className:"font-semibold text-gray-800",children:[t.offered_price,"모먼트"]})]}),t.message&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["💬 ",t.message]}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date(t.created_at).toLocaleDateString("ko-KR",{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]},t.id))})]})]})}function R({isOpen:r,onClose:u,bid:t,participants:n,onSubmit:j}){const[i,_]=o.useState(""),[h,y]=o.useState(""),[f,b]=o.useState({}),[k,x]=o.useState(!1),p=()=>n.length===0?(t==null?void 0:t.start_price)||0:Math.max(...n.map(d=>d.offered_price),(t==null?void 0:t.start_price)||0),N=d=>{const m=parseInt(d),c=p();return!d||isNaN(m)||m<=0?"유효한 모먼트를 입력해주세요.":(t==null?void 0:t.type)==="bidding"&&m<c?`현재 최고 입찰가 혹은 시작가(${c}모먼트)보다 높은 금액을 입력해주세요.`:(t==null?void 0:t.type)==="reverse"&&m>c?`현재 최저 제안가 혹은 시작가(${c}모먼트)보다 낮은 금액을 입력해주세요.`:""},S=d=>{const m=d.target.value;_(m);const c=N(m);b(l=>({...l,bidAmount:c}))},T=async d=>{d.preventDefault();const m=N(i);if(m){b({bidAmount:m});return}if(h.trim().length===0){b({message:"메시지를 입력해주세요."});return}x(!0);try{await j({bidAmount:parseInt(i),message:h.trim()}),alert(`${i}모먼트로 ${(t==null?void 0:t.type)==="bidding"?"입찰":"제안"}이 성공적으로 등록되었습니다!`),_(""),y(""),b({}),u()}catch(c){console.error("입찰 등록 오류:",c),alert("등록 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{x(!1)}},s=()=>{_(""),y(""),b({}),u()};o.useEffect(()=>{const d=m=>{m.key==="Escape"&&r&&(_(""),y(""),b({}),u())};return r&&document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[r,u]);const a=d=>{d.target===d.currentTarget&&s()};if(!r)return null;const g=p(),w=i&&!N(i)&&h.trim().length>0;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:a,children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:(t==null?void 0:t.type)==="bidding"?"💸 입찰하기":"⏰ 제안하기"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:`p-3 rounded-lg mb-4 ${(t==null?void 0:t.type)==="bidding"?"bg-sky-50":"bg-emerald-50"}`,children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["현재 ",(t==null?void 0:t.type)==="bidding"?"최고 입찰가":"최저 제안가"]}),e.jsxs("div",{className:"font-semibold",children:[g,"모먼트"]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(t==null?void 0:t.type)==="bidding"?"입찰할 모먼트":"제안할 모먼트"}),e.jsx("input",{type:"number",value:i,onChange:S,placeholder:`${g}`,min:"1",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.bidAmount?"border-red-500":"border-gray-300"}`}),f.bidAmount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.bidAmount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"메시지"}),e.jsx("textarea",{value:h,onChange:d=>{y(d.target.value),d.target.value.trim()&&b(m=>({...m,message:""}))},placeholder:"입찰 메시지를 입력해주세요...",rows:"3",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.message?"border-red-500":"border-gray-300"}`}),f.message&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.message})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"취소"}),e.jsx("button",{type:"submit",disabled:!w||k,className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors ${w&&!k?(t==null?void 0:t.type)==="bidding"?"bg-sky-500 hover:bg-sky-600":"bg-emerald-500 hover:bg-emerald-600":"bg-gray-300 cursor-not-allowed"}`,children:k?"등록 중...":(t==null?void 0:t.type)==="bidding"?"입찰하기":"제안하기"})]})]})]})})})}function L({bid:r,onClose:u,onUpdate:t}){const[n,j]=o.useState({type:"bidding",category:"",title:"",description:"",time_duration:"",schedule_info:"",start_price:"",deadline_at:"",status:"active"}),[i,_]=o.useState({}),[h,y]=o.useState(!1);o.useEffect(()=>{var s;if(r){const a=new Date(r.deadline_at),g=new Date(a.getTime()-a.getTimezoneOffset()*6e4).toISOString().slice(0,16);j({type:r.type||"bidding",category:r.category||"",title:r.title||"",description:r.description||"",time_duration:r.time_duration||"",schedule_info:r.schedule_info||"",start_price:((s=r.start_price)==null?void 0:s.toString())||"",deadline_at:g,status:r.status||"active"})}},[r]),o.useEffect(()=>{const s=a=>{a.key==="Escape"&&u()};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[u]);const f=s=>{s.target===s.currentTarget&&u()},b=[{value:"멘토링",label:"멘토링"},{value:"스터디",label:"스터디"},{value:"소모임",label:"소모임"}],k=[{value:"30분",label:"30분"},{value:"1시간",label:"1시간"},{value:"1시간 30분",label:"1시간 30분"},{value:"2시간",label:"2시간"},{value:"2시간 30분",label:"2시간 30분"},{value:"3시간",label:"3시간"},{value:"기타",label:"기타"}],x=(s,a)=>{switch(s){case"category":return a?"":"카테고리를 선택해주세요.";case"title":return a.trim()?a.trim().length>=5?"":"제목은 5자 이상 입력해주세요.":"거래 제목을 입력해주세요.";case"time_duration":return a?"":"거래 시간을 선택해주세요.";case"schedule_info":return a.trim()?"":"예상 일정을 입력해주세요.";case"start_price":{const g=parseInt(a);return a&&g>0?"":"시작 가격을 올바르게 입력해주세요. (1 이상의 숫자)"}case"deadline_at":return a?new Date(a)>new Date?"":"마감 시간은 현재 시간보다 이후여야 합니다.":"마감 시간을 선택해주세요.";case"description":return"";default:return""}},p=s=>{const{name:a,value:g}=s.target;j(w=>({...w,[a]:g}));const C=x(a,g);_(w=>({...w,[a]:C}))},N=()=>{const s={};return Object.keys(n).forEach(a=>{if(a!=="type"&&a!=="status"&&a!=="description"){const g=x(a,n[a]);g&&(s[a]=g)}}),_(s),Object.keys(s).length===0},S=async s=>{if(s.preventDefault(),!!N()){y(!0);try{await t(n),alert("입찰 정보가 성공적으로 수정되었습니다!"),u()}catch(a){console.error("Update error:",a),alert("수정 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{y(!1)}}},T=()=>Object.keys(n).every(s=>s==="type"||s==="status"||s==="description"?!0:!x(s,n[s]))&&Object.entries(n).every(([s,a])=>s==="description"?!0:a.toString().trim());return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:f,children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"입찰 정보 수정"}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"거래 유형"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,type:"bidding"})),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium ${n.type==="bidding"?"bg-sky-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"⏰ 판매 (비딩)"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,type:"reverse"})),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium ${n.type==="reverse"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"💸 구매 (역비딩)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),e.jsxs("select",{name:"category",value:n.category,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.category?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"카테고리를 선택해주세요"}),b.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),i.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"거래 제목"}),e.jsx("input",{type:"text",name:"title",value:n.title,onChange:p,placeholder:"예: React 입문 멘토링",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.title?"border-red-500":"border-gray-300"}`}),i.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상세 설명 (선택사항)"}),e.jsx("textarea",{name:"description",value:n.description,onChange:p,placeholder:"상세한 설명을 입력해주세요.",rows:"3",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.description?"border-red-500":"border-gray-300"}`}),i.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"거래 시간"}),e.jsxs("select",{name:"time_duration",value:n.time_duration,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.time_duration?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"시간을 선택해주세요"}),k.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),i.time_duration&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.time_duration})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예상 일정"}),e.jsx("input",{type:"text",name:"schedule_info",value:n.schedule_info,onChange:p,placeholder:"예: 7/4 19:00~22:00 사이",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.schedule_info?"border-red-500":"border-gray-300"}`}),i.schedule_info&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.schedule_info})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시작 가격 (모먼트)"}),e.jsx("input",{type:"number",name:"start_price",value:n.start_price,onChange:p,placeholder:"예: 5",min:"1",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.start_price?"border-red-500":"border-gray-300"}`}),i.start_price&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.start_price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"입찰 마감 시간"}),e.jsx("input",{type:"datetime-local",name:"deadline_at",value:n.deadline_at,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.deadline_at?"border-red-500":"border-gray-300"}`}),i.deadline_at&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.deadline_at})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:u,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"취소"}),e.jsx("button",{type:"submit",disabled:!T()||h,className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors ${T()&&!h?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:h?"수정 중...":"수정 완료"})]})]})]})})})}function K(){const{id:r}=B(),u=A(),[t,n]=o.useState(null),[j,i]=o.useState([]),[_,h]=o.useState(!0),[y,f]=o.useState(null),[b,k]=o.useState(null),{user:x}=O(),[p,N]=o.useState(!1),[S,T]=o.useState(!1),s=o.useCallback(async()=>{try{h(!0);let c=null;try{const{data:l,error:v}=await D.from("time_bids").select("*").eq("id",r).single();v&&v.code!=="PGRST116"?console.warn("Supabase 연결 오류, 더미 데이터 사용:",v):c=l}catch(l){console.warn("Supabase 연결 오류, 더미 데이터 사용:",l)}if(c)n(c);else{alert("실제 데이터가 없으므로 더미 데이터를 사용합니다.");const v=[{id:"550e8400-e29b-41d4-a716-446655440001",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430c8",type:"bidding",category:"멘토링",title:"React 입문 도와드립니다",description:"초보자를 위한 React 기초 강의",time_duration:"1시간",schedule_info:"7/4 19:00~22:00 사이",start_price:5,deadline_at:"2025-04-01T23:59:00",status:"active",created_at:"2025-03-25T10:30:00",updated_at:"2025-03-25T10:30:00"},{id:"550e8400-e29b-41d4-a716-446655440002",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430c9",type:"bidding",category:"스터디",title:"논문 첨삭 1:1 지도",description:"학술 논문 작성 및 첨삭 지도",time_duration:"2시간",schedule_info:"평일 저녁 시간대",start_price:10,deadline_at:"2025-04-02T20:00:00",status:"active",created_at:"2025-03-25T11:00:00",updated_at:"2025-03-25T11:00:00"},{id:"550e8400-e29b-41d4-a716-446655440003",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430ca",type:"bidding",category:"소모임",title:"책 읽는 모임 시간 나눔",description:"독서 토론 및 감상 공유",time_duration:"1시간 30분",schedule_info:"주말 오후",start_price:4,deadline_at:"2025-04-04T18:00:00",status:"active",created_at:"2025-03-25T12:00:00",updated_at:"2025-03-25T12:00:00"},{id:"550e8400-e29b-41d4-a716-446655440004",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430cb",type:"bidding",category:"스터디",title:"TOEIC Speaking 실전 모의",description:"실제 시험과 동일한 환경에서 모의고사",time_duration:"30분",schedule_info:"평일 오전",start_price:3,deadline_at:"2025-04-01T18:00:00",status:"active",created_at:"2025-03-25T13:00:00",updated_at:"2025-03-25T13:00:00"},{id:"550e8400-e29b-41d4-a716-446655440005",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430cc",type:"bidding",category:"멘토링",title:"코딩 면접 준비 도와드립니다",description:"개발자 취업을 위한 코딩 테스트 및 면접 대비",time_duration:"1시간",schedule_info:"평일 저녁 또는 주말",start_price:8,deadline_at:"2025-04-03T22:00:00",status:"active",created_at:"2025-03-25T14:00:00",updated_at:"2025-03-25T14:00:00"},{id:"550e8400-e29b-41d4-a716-446655440006",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430cd",type:"reverse",category:"스터디",title:"머신러닝 스터디 리더 구합니다",description:"머신러닝 개념부터 실습까지 체계적인 스터디",time_duration:"주 2회",schedule_info:"화요일, 목요일 저녁",start_price:20,deadline_at:"2025-04-03T12:00:00",status:"active",created_at:"2025-03-25T15:00:00",updated_at:"2025-03-25T15:00:00"},{id:"550e8400-e29b-41d4-a716-446655440007",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430ce",type:"reverse",category:"소모임",title:"명상 모임 진행자 구해요",description:"마음챙김 명상 및 호흡법 지도",time_duration:"매주 수요일",schedule_info:"수요일 오후 7시",start_price:7,deadline_at:"2025-04-05T15:00:00",status:"active",created_at:"2025-03-25T16:00:00",updated_at:"2025-03-25T16:00:00"},{id:"550e8400-e29b-41d4-a716-446655440008",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430cf",type:"reverse",category:"멘토링",title:"파이썬 기초 가르쳐줄 멘토 구함",description:"프로그래밍 입문자를 위한 파이썬 기초",time_duration:"40분",schedule_info:"주말 오전",start_price:10,deadline_at:"2025-04-06T10:00:00",status:"active",created_at:"2025-03-25T17:00:00",updated_at:"2025-03-25T17:00:00"},{id:"550e8400-e29b-41d4-a716-446655440009",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430d0",type:"reverse",category:"소모임",title:"서울 도보 여행 같이해요",description:"서울 도심 명소 탐방 및 역사 이야기",time_duration:"2시간",schedule_info:"토요일 오후",start_price:12,deadline_at:"2025-04-08T13:00:00",status:"active",created_at:"2025-03-25T18:00:00",updated_at:"2025-03-25T18:00:00"},{id:"550e8400-e29b-41d4-a716-446655440010",user_id:"6ba7b810-9dad-11d1-80b4-00c04fd430d1",type:"reverse",category:"스터디",title:"경제 스터디 주도자 구합니다",description:"경제학 원론부터 시사 경제까지",time_duration:"1시간 30분",schedule_info:"일요일 오후",start_price:15,deadline_at:"2025-04-09T19:00:00",status:"active",created_at:"2025-03-25T19:00:00",updated_at:"2025-03-25T19:00:00"}].find(E=>E.id===r);if(!v){f("해당 입찰을 찾을 수 없습니다.");return}n(v)}try{const{data:l,error:v}=await D.from("bid_participants").select("*").eq("bid_id",r).order("created_at",{ascending:!1});if(v&&v.code!=="PGRST116")console.warn("참여자 정보 조회 오류:",v);else if(l&&(i(l),x)){const E=l.find($=>$.user_id===x.id);k(E)}}catch(l){console.warn("참여자 정보 조회 연결 오류:",l)}r==="550e8400-e29b-41d4-a716-446655440001"&&i([{id:"participant-1",bid_id:r,user_id:"dummy-user-1",offered_price:7,message:"React를 열심히 배우고 싶습니다!",created_at:"2025-03-25T14:30:00"},{id:"participant-2",bid_id:r,user_id:"dummy-user-2",offered_price:6,message:"좋은 기회인 것 같아요",created_at:"2025-03-25T15:00:00"}])}catch(c){console.error("Error fetching bid details:",c),f("입찰 정보를 불러오는 중 오류가 발생했습니다.")}finally{h(!1)}},[r,x]);o.useEffect(()=>{r&&s()},[r,s]);const a=()=>{u(-1)},g=()=>{T(!0)},C=()=>{N(!0)},w=o.useCallback(async c=>{const{error:l}=await D.from("bid_participants").insert({bid_id:r,user_id:(x==null?void 0:x.id)||"dummy-user",offered_price:c.bidAmount,message:c.message});if(l)throw console.error("입찰 등록 오류:",l),l;s()},[r,x,s]),d=async c=>{console.log("수정된 입찰 데이터:",{id:t.id,...c,updated_at:new Date().toISOString()}),await new Promise(l=>setTimeout(l,1e3)),n(l=>({...l,...c}))};if(_)return e.jsx("div",{className:"p-4 font-noto",children:e.jsx("div",{className:"text-center text-gray-500",children:"로딩 중..."})});if(y)return e.jsxs("div",{className:"p-4 font-noto",children:[e.jsx("div",{className:"text-center text-red-500 mb-4",children:y}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-700 hover:bg-slate-200 rounded-lg transition-colors bg-white border border-slate-200",children:"✕"})})]});if(!t)return e.jsxs("div",{className:"p-4 font-noto",children:[e.jsx("div",{className:"text-center text-gray-500 mb-4",children:"입찰 정보를 찾을 수 없습니다."}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-700 hover:bg-slate-200 rounded-lg transition-colors bg-white border border-slate-200",children:"✕"})})]});const m=x&&t.user_id===x.id;return e.jsxs(P,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t.type==="bidding"?"bg-sky-100 text-sky-600":"bg-emerald-100 text-emerald-600"}`,children:t.type==="bidding"?"⏰ 시간 판매":"💸 시간 구매"}),e.jsx("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-700 hover:bg-slate-200 rounded-lg transition-colors bg-white border border-slate-200",children:"✕"})]}),e.jsxs("div",{className:`rounded-xl p-6 shadow-sm border mb-6 ${t.type==="bidding"?"bg-sky-50 border-sky-100":"bg-emerald-50 border-emerald-100"}`,children:[e.jsxs("div",{className:`text-sm font-medium mb-2 ${t.type==="bidding"?"text-sky-600":"text-emerald-600"}`,children:["[",t.category,"]"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t.title}),t.description&&e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold text-gray-600",children:"⏱ 시간:"}),e.jsx("div",{className:"text-gray-800",children:t.time_duration})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold text-gray-600",children:"💰 시작가:"}),e.jsxs("div",{className:"text-gray-800",children:[t.start_price,"모먼트"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold text-gray-600",children:"📅 일정:"}),e.jsx("div",{className:"text-gray-800",children:t.schedule_info})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold text-gray-600",children:"⏰ 마감:"}),e.jsx("div",{className:"text-gray-800",children:new Date(t.deadline_at).toLocaleDateString("ko-KR",{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),e.jsx("div",{className:"mb-6",children:m?e.jsx("button",{onClick:g,className:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"✏️ 수정하기"}):b?e.jsx("button",{disabled:!0,className:"w-full px-6 py-3 text-white rounded-lg font-medium bg-gray-400 cursor-not-allowed opacity-60",children:t.type==="bidding"?"💸 입찰하기":"⏰ 제안하기"}):e.jsx("button",{onClick:C,className:`w-full px-6 py-3 text-white rounded-lg font-medium transition-colors ${t.type==="bidding"?"bg-sky-500 hover:bg-sky-600":"bg-emerald-500 hover:bg-emerald-600"}`,children:t.type==="bidding"?"💸 입찰하기":"⏰ 제안하기"})}),!m&&e.jsx(I,{participants:j,userParticipation:b}),e.jsx(R,{isOpen:p,onClose:()=>N(!1),bid:t,participants:j,onSubmit:w}),S&&e.jsx(L,{bid:t,onClose:()=>T(!1),onUpdate:d})]})}export{K as default};
